


게시판 글쓰기 구현 과정

1. 글목록창(listArticles.jsp)에서 글쓰기창을 요청합니다.

2. 글쓰기창에서 글을 입력 하고 컨트롤러에 /board/addArticle.do로 글쓰기 요청을 합니다.

3. 컨트롤러에서 Service클래스로 글쓰기창에서 입력한 글정보를 전달해 DB의 테이블에 글을 추가 합니다.

4. 새글을 추가하고 컨트롤러에서 다시 /board/listArticles.do로 요청하여 전체글을 검색해서 가져와서
화면에 표시 합니다.


그런데 이글쓰기 기능에는 한가지 문제가 있습니다!

바로 새 글에 첨부한 파일들이 같은 폴더에 저장된가는 것입니다.

얼핏 보기에는 큰문제가 아닌것 같지만 이렇게 저장하면 다른 사용자가 첨부한 파일과 이름이 같아 구별하기가 어렵습니다.

따라서  업로드한 파일이 각각의 글번호를 이름으로 하는 폴더를 생성하고, 저장까지 할수 있도록 구현하자.

과정
1. 글쓰기창에서 새글 전송시..컨트롤러의 upload()메소드를 호출해 새글 정보를 Map으로 반환 받고
      첨부한 파일은 임시로 temp폴더에 업로드 시킵니다.

2. 컨트롤러는 Service클래스의 addNewArticle()메소드를 호출하면서 새글 정보를 인자로 전달해 테이블에 추가한후
      새로 추가한 글번호를 반환 받습니다.

3. 컨트롤러에서 반환 받은 새글 글번호를 이용해  파일 저장소에 새 글 글번호로 폴더를 생성하고
   temp폴더의 파일을  새글 글번호 폴더로 이동시킴.




















